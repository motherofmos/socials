<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mo — bio</title>

<!-- Favicon / tab icon -->
<link rel="icon" href="https://i.imgur.com/68YT1rX.png" type="image/png">

<!-- OG / Twitter embed meta -->
<meta property="og:title" content="Mo" />
<meta property="og:description" content="Fuck off" />
<meta property="og:type" content="website" />
<meta property="og:image" content="https://i.imgur.com/IhLX1GB.png" />
<meta property="og:image:secure_url" content="https://i.imgur.com/IhLX1GB.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="1200" />
<link rel="image_src" href="https://i.imgur.com/IhLX1GB.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Mo" />
<meta name="twitter:description" content="Fuck off" />
<meta name="twitter:image" content="https://i.imgur.com/IhLX1GB.png" />

<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<meta name="description" content="Mo — bio link">

<style>
  :root{
    --bg-1: #07060a;
    --purple: #8b4cff;
    --green: #00f5a0;
    --glowPurple: rgba(139,76,255,0.18);
    --glowGreen: rgba(0,245,160,0.14);
    --mono: "Segoe UI Mono", "Roboto Mono", "Courier New", monospace;
    --oldeng: "UnifrakturCook", serif;
    box-sizing: border-box;
  }
  *,*::before,*::after{box-sizing:inherit}
  html,body{height:100%;margin:0;background:var(--bg-1);color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden;}

  /* background drift */
  .wrap{
    position:relative;height:100vh;width:100vw;display:flex;align-items:center;justify-content:center;
    background: linear-gradient(120deg, rgba(139,76,255,0.06), rgba(0,245,160,0.04));
    overflow:hidden;
  }
  .bg-animated {
    position: absolute; inset: -20%;
    background: radial-gradient(800px 600px at 12% 18%, rgba(139,76,255,0.22), transparent 10%),
                radial-gradient(700px 500px at 88% 82%, rgba(0,245,160,0.16), transparent 12%),
                linear-gradient(180deg, rgba(6,6,10,0.7), rgba(0,0,0,0.44));
    filter: blur(28px) saturate(120%);
    animation: drift 20s linear infinite;
    z-index:0;
    transform-origin:center;
  }
  @keyframes drift {
    0% { transform: translate(0px,0px) rotate(0deg) scale(1); }
    50% { transform: translate(-40px,18px) rotate(2deg) scale(1.03); }
    100% { transform: translate(0px,0px) rotate(0deg) scale(1); }
  }

  /* side images (just images — no glow/box) */
  .logo-left, .logo-right {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    width: 220px;
    height: 220px;
    z-index: 20;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
  }
  .logo-left { left: 6%; }
  .logo-right { right: 6%; }
  .logo-left img, .logo-right img {
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:16px;
    filter: none;
    transition: transform .18s ease, filter .12s linear;
    will-change: transform, filter;
  }

  .center {
    z-index: 60;
    text-align:center;
    max-width:980px;
    padding:26px;
    margin-top:12px;
    pointer-events:auto;
  }

  /* Bio card: made a bit smaller and pushed down so the top shows fully */
  .bio-card {
    margin: 84px auto 18px; /* pushed down so the top isn't cut off */
    width: min(560px, 86%);  /* a bit narrower */
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.22));
    border-radius: 12px;
    padding: 10px 12px; /* slightly reduced padding to make it more compact */
    box-shadow: 0 16px 46px rgba(0,0,0,0.6);
    border: 1px solid rgba(255,255,255,0.02);
    z-index: 62;
    position: relative;
    color: #eafaf0;
    backdrop-filter: blur(6px) saturate(1.1);
    overflow:visible;
    box-sizing: border-box;
  }

  .bio-top { display:flex;gap:12px;align-items:center;justify-content:center;flex-direction:column;text-align:center;margin-bottom:6px; }
  .bio-avatar {
    width:80px;height:80px;border-radius:50%;overflow:hidden;border: 2px solid rgba(255,255,255,0.02);
    box-shadow: 0 10px 26px rgba(0,0,0,0.6);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
  }
  .bio-avatar img { width:100%; height:100%; object-fit:cover; display:block; }

  .bio-name {
    font-family: var(--oldeng);
    font-size: 36px;
    color: white;
    margin-top:6px;
    position: relative;
    z-index: 6;
    display:inline-block;
    padding: 0 6px;
    line-height:1;
  }
  .bio-name::before,
  .bio-name::after {
    content: attr(data-text);
    position:absolute;
    left:0; top:0;
    width:100%; height:100%;
    pointer-events:none;
    z-index:5;
    mix-blend-mode:screen;
  }
  .bio-name::before {
    color: transparent;
    background: linear-gradient(90deg, rgba(139,76,255,0.98), rgba(139,76,255,0.65));
    -webkit-background-clip: text;
    background-clip: text;
    transform: translate(-3px, 0);
    filter: blur(0.9px) saturate(160%);
    opacity:0.95;
    animation: nameGlitchA 1.14s infinite linear;
  }
  .bio-name::after {
    color: transparent;
    background: linear-gradient(90deg, rgba(0,245,160,0.98), rgba(0,245,160,0.6));
    -webkit-background-clip: text;
    background-clip: text;
    transform: translate(3px, 0);
    filter: blur(1.2px);
    opacity:0.7;
    animation: nameGlitchB 1.02s infinite linear;
  }
  @keyframes nameGlitchA { 0%{transform:translate(-2px,0)}10%{transform:translate(-8px,2px)}20%{transform:translate(6px,-2px)}30%{transform:translate(-6px,1px)}40%{transform:translate(2px,-1px)}100%{transform:translate(0,0)} }
  @keyframes nameGlitchB { 0%{transform:translate(2px,0)}12%{transform:translate(8px,-2px)}24%{transform:translate(-6px,2px)}36%{transform:translate(4px,-1px)}100%{transform:translate(0,0)} }

  .bio-sub { font-family:var(--mono); font-size:12px; color: rgba(255,255,255,0.7); margin-top:6px; }

  .bio-links { display:flex; flex-direction:column; gap:8px; margin-top:10px; padding-top:6px; }
  .bio-link {
    display:flex; gap:10px; align-items:center; text-decoration:none;
    padding:10px 12px; border-radius:10px; background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06));
    border: 1px solid rgba(255,255,255,0.02); color: #eafaf0; transition: transform .14s ease, box-shadow .14s ease;
  }
  .bio-link:hover { transform: translateY(-6px); box-shadow: 0 18px 44px rgba(0,0,0,0.6); background: linear-gradient(90deg, rgba(139,76,255,0.06), rgba(0,245,160,0.04)); }

  .bio-icon { width:48px;height:48px;min-width:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02); overflow:hidden; }
  .bio-icon img, .bio-icon .iconInner { width:24px;height:24px; display:block; }

  .bio-link-title { display:flex; flex-direction:column; align-items:flex-start; justify-content:center; text-align:left; }
  .title-row { font-family:var(--mono); font-size:14px; color: white; }
  .sub-row { font-family:var(--mono); font-size:11px; color: rgba(255,255,255,0.64); margin-top:4px; }

  .bio-footer { display:flex; gap:10px; align-items:center; justify-content:space-between; margin-top:12px; padding-top:8px; border-top: 1px dashed rgba(255,255,255,0.02); }
  .btn { padding:8px 12px; border-radius:10px; background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); border:1px solid rgba(255,255,255,0.02); color:#fff; font-family:var(--mono); font-size:13px; cursor:pointer; }

  /* typing box with glitch layers retained */
  .glitch-typing {
    position:relative; display:flex; align-items:center; justify-content:center; font-family: var(--mono);
    font-size: clamp(16px, 3.2vw, 28px); line-height:1.22; color:#eafaf0;
    width: 92vw; max-width: 820px; min-height: 110px; text-align:center; margin: 18px auto 22px;
    padding: 18px 22px; border-radius: 10px; background: linear-gradient(90deg, rgba(139,76,255,0.02), rgba(0,245,160,0.02));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.01), 0 12px 46px rgba(0,0,0,0.6);
    border: 1px solid rgba(255,255,255,0.02); z-index:61; pointer-events:auto;
    overflow:visible;
  }
  #typedText { color: white; display:block; position:relative; z-index:3; max-width: 100%; word-break:break-word; line-height:1.22; text-shadow: 0 8px 30px var(--glowPurple); }

  .glitch-typing #typedText::before,
  .glitch-typing #typedText::after {
    content: attr(data-text);
    position:absolute;
    left:0;top:0;
    width:100%;
    height:100%;
    z-index:2;
    pointer-events:none;
    mix-blend-mode:screen;
  }
  .glitch-typing #typedText::before {
    color: transparent;
    background: linear-gradient(90deg, rgba(139,76,255,0.98), rgba(139,76,255,0.6));
    -webkit-background-clip: text;
    background-clip: text;
    transform: translate(-4px, 0);
    filter: blur(0.9px) saturate(160%);
    opacity:0.96;
    animation: glitchShiftText 1.16s infinite linear;
  }
  .glitch-typing #typedText::after {
    color: transparent;
    background: linear-gradient(90deg, rgba(0,245,160,0.98), rgba(0,245,160,0.6));
    -webkit-background-clip: text;
    background-clip: text;
    transform: translate(4px, 0);
    filter: blur(1.4px);
    opacity:0.75;
    animation: glitchShiftTextRev 1.04s infinite linear;
  }
  @keyframes glitchShiftText { 0%{transform:translate(-2px,0)} 10%{transform:translate(-8px,2px)} 20%{transform:translate(6px,-2px)} 30%{transform:translate(-6px,1px)} 40%{transform:translate(2px,-1px)} 100%{transform:translate(0,0)} }
  @keyframes glitchShiftTextRev { 0%{transform:translate(2px,0)} 12%{transform:translate(8px,-2px)} 24%{transform:translate(-6px,2px)} 36%{transform:translate(4px,-1px)} 100%{transform:translate(0,0)} }

  .particles{ position:absolute; inset:0; z-index:15; pointer-events:none; overflow:hidden; }
  .particle{ position:absolute; width:8px; height:8px; border-radius:50%; opacity:0.06; filter:blur(0.6px); transform: translateY(0); animation: particleRise linear infinite; }
  @keyframes particleRise { 0% { transform: translateY(8vh) scale(0.5); opacity:0.06; } 50% { opacity:0.16; } 100% { transform: translateY(-30vh) scale(1.6); opacity:0; } }

  .scanlinePulse{ position: absolute; inset:0; z-index:45; pointer-events:none; background-image: linear-gradient( rgba(255,255,255,0.01) 1px, transparent 1px ); background-size: 100% 6px; opacity:0.04; }

  /* player controls - fixed height to prevent layout shifts */
  .player {
    display:flex; flex-direction:column; gap:10px; align-items:center; justify-content:flex-start;
    width: min(760px, 92%); margin: 6px auto 36px; z-index:80;
    background: linear-gradient(180deg, rgba(0,0,0,0.14), rgba(0,0,0,0.18));
    padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,0.02); box-shadow: 0 18px 60px rgba(0,0,0,0.7);
    height: 260px;
    box-sizing: border-box;
  }
  .player-row { display:flex; align-items:center; gap:14px; width:100%; }
  .controls-main { display:flex; gap:12px; align-items:center; }
  .btn-ghost { width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:linear-gradient(90deg, rgba(139,76,255,0.06), rgba(0,245,160,0.04)); border:1px solid rgba(255,255,255,0.02); cursor:pointer; }
  .btn-ghost:active { transform:translateY(1px) }
  .progressWrap { flex:1; display:flex; align-items:center; gap:10px; }
  .time { font-family:var(--mono); font-size:12px; color: rgba(255,255,255,0.78); width:72px; text-align:center; }
  input[type=range].progress { -webkit-appearance:none; width:100%; height:8px; border-radius:10px; background:linear-gradient(90deg, var(--purple) 0%, var(--green) 100%); outline:none; }
  input[type=range].progress::-webkit-slider-thumb { -webkit-appearance:none; width:14px; height:14px; border-radius:14px; background:white; box-shadow: 0 4px 18px rgba(0,0,0,0.5); border:2px solid var(--purple); }

  .volumeWrap{ display:flex; gap:8px; align-items:center; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02)); padding:8px 10px; border-radius:12px; border:1px solid rgba(255,255,255,0.02); }
  .volumeWrap input[type=range]{ width:120px; height:6px; border-radius:6px; -webkit-appearance:none; background:linear-gradient(90deg, var(--purple) 0%, var(--green) 100%); }
  .volumeWrap input[type=range]::-webkit-slider-thumb{ -webkit-appearance:none; width:12px; height:12px; border-radius:10px; background:white; border:2px solid rgba(0,0,0,0.45); box-shadow: 0 2px 10px rgba(0,0,0,0.5); }

  /* file list area fixed height and scrolls inside the player (so it won't push layout) */
  .file-list {
    width:100%;
    max-height:86px;
    overflow:auto;
    text-align:left;
    font-family:var(--mono);
    font-size:13px;
    color:rgba(255,255,255,0.88);
    margin-top:6px;
    padding:8px;
    border-radius:8px;
    background:rgba(0,0,0,0.18);
    border:1px solid rgba(255,255,255,0.02);
    box-sizing:border-box;
  }
  .file-empty { color: rgba(255,255,255,0.5); font-style:italic; }

  .file-item { padding:6px 8px; border-radius:6px; display:flex; align-items:center; justify-content:space-between; gap:8px; }
  .file-item:hover { background: rgba(255,255,255,0.02); }

  @media (max-width:700px){
    .logo-left, .logo-right { display:none; }
    .bio-avatar { width:68px;height:68px; border-radius:14px; }
    .bio-card { padding:10px; width: 94%; margin-top:44px; }
    .player { padding:10px; height:320px; }
    .volumeWrap input[type=range]{ width:90px; }
  }

  /* small accessibility focus outlines */
  a:focus, button:focus, input:focus { outline: 2px dashed rgba(255,255,255,0.06); outline-offset:4px; box-shadow: 0 0 0 4px rgba(139,76,255,0.06); }
</style>
</head>
<body>
  <div class="wrap" role="application">
    <div class="bg-animated" aria-hidden="true"></div>

    <!-- LEFT / RIGHT IMAGES (just plain images) -->
    <div class="logo-left" id="logoLeft">
      <img id="logoImgLeft" alt="left image" src="https://i.imgur.com/lq5FGnE.png" crossorigin="anonymous">
    </div>
    <div class="logo-right" id="logoRight">
      <img id="logoImgRight" alt="right image" src="https://i.imgur.com/lq5FGnE.png" crossorigin="anonymous">
    </div>

    <div class="center">
      <!-- BIO-LINK CARD -->
      <div class="bio-card" aria-label="Profile / biolink">
        <div class="bio-top" role="region" aria-label="profile">
          <div class="bio-avatar" aria-hidden="false">
            <img src="https://i.imgur.com/OolheDc.jpeg" alt="Profile image">
          </div>
          <div class="bio-name" data-text="Mo">Mo</div>
          <div class="bio-sub">Fuck off</div>
        </div>

        <div class="bio-links" role="list">
          <!-- Instagram -->
          <a class="bio-link" role="listitem" href="https://www.instagram.com/moneedss" target="_blank" rel="noopener noreferrer">
            <div class="bio-icon" aria-hidden="true"><div class="iconInner">
              <svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="3" width="18" height="18" rx="5" stroke="white" stroke-width="1.2"/><circle cx="12" cy="12" r="3.2" stroke="white" stroke-width="1.2"/></svg>
            </div></div>
            <div class="bio-link-title">
              <div class="title-row" data-text="Instagram">Instagram</div>
              <div class="sub-row">@moneedss</div>
            </div>
          </a>

          <!-- TikTok -->
          <a class="bio-link" role="listitem" href="https://www.tiktok.com/@nattwolfffanaccount" target="_blank" rel="noopener noreferrer">
            <div class="bio-icon" aria-hidden="true"><div class="iconInner">
              <svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3v8.5a3.5 3.5 0 1 0 3.5 3.5V6h3.5V3H9z" stroke="white" stroke-width="1.2" fill="none"/></svg>
            </div></div>
            <div class="bio-link-title">
              <div class="title-row" data-text="TikTok">TikTok</div>
              <div class="sub-row">@nattwolfffanaccount</div>
            </div>
          </a>

          <!-- Snapchat (better icon URL provided) -->
          <a class="bio-link" role="listitem" href="#" onclick="navigator.clipboard?.writeText('ayomooooooo') ? showToast('Snapchat username copied') : alert('ayomooooooo'); return false;">
            <div class="bio-icon" aria-hidden="true">
              <img src="https://cdn-icons-png.flaticon.com/512/220/220366.png" alt="snap-chat icon" style="width:24px; height:24px; object-fit:contain;">
            </div>
            <div class="bio-link-title">
              <div class="title-row" data-text="Snapchat">Snapchat</div>
              <div class="sub-row">@ayomooooooo (click to copy)</div>
            </div>
          </a>

          <!-- Discord (copy username 'motherofmos' on click) -->
          <a class="bio-link" role="listitem" href="#" onclick="navigator.clipboard?.writeText('motherofmos') ? showToast('Discord name copied') : alert('motherofmos'); return false;">
            <div class="bio-icon" aria-hidden="true">
              <img src="https://img.icons8.com/ios-glyphs/30/ffffff/discord--v1.png" alt="discord" style="width:24px; height:24px; object-fit:contain;">
            </div>
            <div class="bio-link-title">
              <div class="title-row" data-text="Discord">Discord</div>
              <div class="sub-row">@motherofmos (click to copy)</div>
            </div>
          </a>
        </div>

        <div class="bio-footer" role="toolbar" aria-label="biolink actions">
          <div style="font-family:var(--mono); font-size:12px; color:rgba(255,255,255,0.6);">Cooked by <a href="https://indeed.com" style="color:#bcb3ff;text-decoration:none">ballwalll</a></div>
          <div class="bio-actions"></div>
        </div>
      </div>
      <!-- END BIO-LINK CARD -->

      <!-- Typing box -->
      <div class="glitch-typing" id="typingWrap" aria-live="polite" role="status">
        <div class="typing-inner">
          <div id="ghostA" class="ghost-layer" aria-hidden="true"></div>
          <div id="ghostB" class="ghost-layer" aria-hidden="true"></div>

          <div class="visible-layer" aria-hidden="false" style="position:relative;z-index:48;">
            <span id="typedText" data-text=""></span>
          </div>
        </div>
      </div>

      <div class="particles" id="particles"></div>

      <!-- Player (fixed height so nothing moves when files added) -->
      <div class="player" role="region" aria-label="Audio player">
        <div style="width:100%; display:flex; justify-content:space-between; gap:12px; align-items:center;">
          <div style="display:flex; align-items:center; gap:8px;">
            <label class="btn" for="folderInput" title="Select folder containing audio files">Upload Folder</label>
            <input id="folderInput" type="file" webkitdirectory directory multiple style="display:none;" accept=".mp3,.mp4,.wav,.m4a,.ogg">
            <button id="clearLocal" class="btn" title="Clear local playlist">Clear Local</button>
          </div>

          <div style="font-family:var(--mono); font-size:13px; color:rgba(255,255,255,0.7);">Local folder files will be appended</div>
        </div>

        <div class="player-row">
          <div style="display:flex; align-items:center; gap:12px; min-width:120px;">
            <div style="width:64px; height:64px; border-radius:10px; overflow:hidden; display:flex; align-items:center; justify-content:center; border:1px solid rgba(255,255,255,0.02);">
              <img src="https://i.imgur.com/OolheDc.jpeg" alt="track art" id="artImg" style="width:100%; height:100%; object-fit:cover;">
            </div>
          </div>

          <div class="progressWrap" style="min-width:0;">
            <div style="display:flex; align-items:center; gap:12px; width:100%;">
              <div class="controls-main" style="min-width:128px;">
                <button id="prevBtn" class="btn-ghost" title="Previous">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M18 6L10 11.5V6L6 10v4l4-4v5.5L18 18V6z" fill="white"/></svg>
                </button>
                <button id="playBtn" class="btn-ghost" aria-pressed="false" title="Play / Pause">
                  <svg id="playIcon" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 4l14 8-14 8V4z" fill="white"/></svg>
                </button>
                <button id="nextBtn" class="btn-ghost" title="Next">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 6l8 6-8 6V6zm10 0h2v12h-2V6z" fill="white"/></svg>
                </button>
              </div>

              <div style="flex:1; display:flex; align-items:center; gap:12px;">
                <div class="time" id="currentTime">0:00</div>
                <input id="progress" class="progress" type="range" min="0" max="100" value="0" step="0.1" aria-label="Playback progress">
                <div class="time" id="duration">0:00</div>
              </div>
            </div>
          </div>
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; width:100%; gap:12px;">
          <div style="display:flex; gap:10px; align-items:center;">
            <div class="volumeWrap" title="Volume">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M5 9v6h4l5 4V5L9 9H5z" fill="white"/></svg>
              <input id="volumeSlider" aria-label="Volume" type="range" min="0" max="1" step="0.01" value="0.32">
              <div id="volLabel" style="font-family:var(--mono);font-size:12px;color:rgba(255,255,255,0.8);min-width:36px;text-align:right;">32%</div>
            </div>
          </div>

          <div style="font-family:var(--mono); font-size:12px; color:rgba(255,255,255,0.6);">
            <span id="trackTitle">Loading…</span>
          </div>
        </div>

        <div class="file-list" id="fileList" aria-live="polite">
          <div class="file-empty" id="fileEmpty">No local files loaded</div>
        </div>
      </div>

      <div class="hint" aria-hidden="true"></div>
    </div>

    <div class="scanlinePulse" aria-hidden="true"></div>

    <!-- audio element -->
    <audio id="background-audio" preload="auto" playsinline crossorigin="anonymous"></audio>

  </div>

<script>
/* ===========================
   Tab title typing effect
   (kept per your requested script)
   =========================== */
const titleText = "@ M o";
let titleIndex = 0;
let typingDirection = 1; // 1 for typing, -1 for deleting
document.title = "";
function updateTitle() {
    if (typingDirection === 1) {
        if (titleIndex < titleText.length) {
            document.title += titleText[titleIndex];
            titleIndex++;
        } else {
            typingDirection = -1;
        }
    } else {
        document.title = document.title.slice(0, -1);
        if (document.title.length === 0) {
            typingDirection = 1;
            titleIndex = 0;
        }
    }
}
setInterval(updateTitle, 300);

/* Small toast helper for copy feedback */
function showToast(msg, t=1400){
  let el = document.getElementById('lf-toast');
  if(!el){
    el = document.createElement('div');
    el.id = 'lf-toast';
    el.style.position='fixed';
    el.style.bottom='28px';
    el.style.left='50%';
    el.style.transform='translateX(-50%)';
    el.style.background='rgba(0,0,0,0.7)';
    el.style.border='1px solid rgba(255,255,255,0.04)';
    el.style.color='white';
    el.style.padding='8px 12px';
    el.style.borderRadius='8px';
    el.style.zIndex=9999;
    el.style.fontFamily='monospace';
    el.style.transition='opacity .4s';
    document.body.appendChild(el);
  }
  el.textContent = msg;
  el.style.opacity = '1';
  setTimeout(()=> el.style.opacity = '0', t);
}

/* ===========================
   Player & visualizer (background-audio)
   Stable layout, default remote audio, folder support, fixed heights
   =========================== */

const audio = document.getElementById('background-audio');
const playBtn = document.getElementById('playBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const playIcon = document.getElementById('playIcon');
const progress = document.getElementById('progress');
const currentTimeEl = document.getElementById('currentTime');
const durationEl = document.getElementById('duration');
const volumeSlider = document.getElementById('volumeSlider');
const volLabel = document.getElementById('volLabel');
const trackTitle = document.getElementById('trackTitle');
const artImg = document.getElementById('artImg');

const folderInput = document.getElementById('folderInput');
const fileListEl = document.getElementById('fileList');
const fileEmptyEl = document.getElementById('fileEmpty');
const clearLocalBtn = document.getElementById('clearLocal');

const logoLeft = document.getElementById('logoLeft');
const logoRight = document.getElementById('logoRight');
const logoImgLeft = document.getElementById('logoImgLeft');
const logoImgRight = document.getElementById('logoImgRight');

let playlist = [];            // {src, title, blobUrl, isLocal, art}
let currentIndex = 0;
let isPlaying = false;
let seeking = false;

/* Allowed extensions */
const ALLOWED_RE = /\.(mp3|mp4|m4a|wav|ogg)$/i;

/* AudioContext / analyser */
let audioCtx = null;
let analyser = null;
let dataArray = null;
let sourceNode = null;

/* Default audio */
const DEFAULT_AUDIO_URL = 'https://r2.guns.lol/ef1e0cb5-f32a-4c44-a09a-b1e349e3af57.mp3';

/* Initialize playlist with default remote track */
playlist = [
  { src: DEFAULT_AUDIO_URL, title: 'Mystical Magical', isLocal: false, art: 'https://i.imgur.com/OolheDc.jpeg' }
];

/* Helper: format time */
function formatTime(s){
  if (!isFinite(s)) return '0:00';
  s = Math.floor(s);
  const m = Math.floor(s/60);
  const ss = String(s % 60).padStart(2,'0');
  return `${m}:${ss}`;
}

/* Update play/pause icon helpers */
function updateIconPlaying(){
  playIcon.innerHTML = '<rect x="6" y="5" width="4" height="14" fill="white"/><rect x="14" y="5" width="4" height="14" fill="white"/>';
  playBtn.setAttribute('aria-pressed','true');
}
function updateIconPaused(){
  playIcon.innerHTML = '<path d="M6 4l14 8-14 8V4z" fill="white"/>';
  playBtn.setAttribute('aria-pressed','false');
}

/* Load a track index */
function loadTrack(idx){
  if (!playlist.length) {
    audio.removeAttribute('src');
    audio.load();
    trackTitle.textContent = 'No track';
    artImg.src = 'https://i.imgur.com/OolheDc.jpeg';
    updateFileListUI();
    return;
  }
  currentIndex = ((idx % playlist.length) + playlist.length) % playlist.length;
  const t = playlist[currentIndex];
  audio.src = t.src;
  audio.load();
  trackTitle.textContent = t.title || ('Track '+(currentIndex+1));
  artImg.src = t.art || 'https://i.imgur.com/OolheDc.jpeg';
  updateFileListUI();
}

/* Play / Pause toggling (fixed to reliably pause) */
async function togglePlay(){
  try {
    if (audio.paused || audio.ended) {
      // play
      await audio.play();
      isPlaying = true;
      updateIconPlaying();
      try { initAudioContext(); if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume().catch(()=>{}); } catch(e){}
    } else {
      // pause
      audio.pause();
      isPlaying = false;
      updateIconPaused();
    }
  } catch (err) {
    console.warn('togglePlay error', err);
  }
}

/* Prev / Next */
function prevTrack(){
  if (!playlist.length) return;
  loadTrack(currentIndex - 1);
  audio.play().catch(()=>{});
  isPlaying = true;
  updateIconPlaying();
  try { initAudioContext(); } catch(e){}
}
function nextTrack(){
  if (!playlist.length) return;
  loadTrack(currentIndex + 1);
  audio.play().catch(()=>{});
  isPlaying = true;
  updateIconPlaying();
  try { initAudioContext(); } catch(e){}
}

/* audio element events */
audio.addEventListener('loadedmetadata', () => {
  durationEl.textContent = formatTime(audio.duration || 0);
  progress.max = audio.duration || 0;
});
audio.addEventListener('timeupdate', () => {
  if (!seeking) {
    progress.value = audio.currentTime || 0;
    currentTimeEl.textContent = formatTime(audio.currentTime || 0);
  }
});
audio.addEventListener('play', () => updateIconPlaying());
audio.addEventListener('pause', () => updateIconPaused());
audio.addEventListener('ended', () => {
  if (playlist.length <= 1) {
    audio.currentTime = 0;
    audio.play().catch(()=>{});
  } else {
    nextTrack();
  }
});

/* progress seek */
progress.addEventListener('input', (e) => {
  seeking = true;
  currentTimeEl.textContent = formatTime(parseFloat(e.target.value));
});
progress.addEventListener('change', (e) => {
  const t = parseFloat(e.target.value);
  audio.currentTime = t;
  seeking = false;
});

/* volume */
function setVolume(v){
  audio.volume = v;
  volLabel.textContent = Math.round(v*100) + '%';
  audio.muted = false;
}
volumeSlider.addEventListener('input', e => setVolume(parseFloat(e.target.value)));
setVolume(parseFloat(volumeSlider.value || 0.32));

/* wiring */
playBtn.addEventListener('click', (e) => togglePlay());
prevBtn.addEventListener('click', prevTrack);
nextBtn.addEventListener('click', nextTrack);

/* keyboard shortcuts */
document.addEventListener('keydown', (e) => {
  if (e.code === 'Space' && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA') {
    e.preventDefault();
    togglePlay();
  }
  if (e.key === 'ArrowRight') { audio.currentTime = Math.min(audio.duration || 0, (audio.currentTime || 0) + 10); }
  if (e.key === 'ArrowLeft') { audio.currentTime = Math.max(0, (audio.currentTime || 0) - 10); }
});

/* Folder upload support */
folderInput.addEventListener('change', async (ev) => {
  const files = Array.from(ev.target.files || []);
  if (!files.length) return;
  const filtered = files.filter(f => ALLOWED_RE.test(f.name));
  if (!filtered.length) {
    alert('No audio files found in that folder (supported: mp3, mp4, m4a, wav, ogg).');
    return;
  }

  const added = [];
  for (const f of filtered) {
    try {
      const blobUrl = URL.createObjectURL(f);
      added.push({ src: blobUrl, title: f.name, blobUrl: blobUrl, isLocal:true, art: 'https://i.imgur.com/OolheDc.jpeg' });
    } catch (e) {
      console.warn('objectURL error', e);
    }
  }

  // append local files to playlist (do NOT remove default remote track)
  playlist = playlist.concat(added);
  renderFileList();
  // auto-load first newly added track
  loadTrack(Math.max(0, playlist.length - added.length));
});

/* Clear only local blob URLs (keep remote default) */
function cleanupLocalUrlsAndKeepRemote(){
  const retained = [];
  for (const p of playlist){
    if (p && p.isLocal && p.blobUrl) {
      try { URL.revokeObjectURL(p.blobUrl); } catch(e){}
    } else {
      retained.push(p);
    }
  }
  playlist = retained.length ? retained : [{ src: DEFAULT_AUDIO_URL, title: 'Default Track', isLocal: false, art: 'https://i.imgur.com/OolheDc.jpeg' }];
  renderFileList();
  loadTrack(0);
}
clearLocalBtn.addEventListener('click', () => {
  cleanupLocalUrlsAndKeepRemote();
  folderInput.value = '';
});

/* Render file list without changing layout */
function renderFileList(){
  fileListEl.innerHTML = '';
  if (!playlist.length) {
    fileEmptyEl.textContent = 'No local files loaded';
    fileListEl.appendChild(fileEmptyEl);
    return;
  }

  playlist.forEach((p, i) => {
    const row = document.createElement('div');
    row.className = 'file-item';
    row.tabIndex = 0;
    const name = p.title || ('Track ' + (i+1));
    const isLocal = p.isLocal ? ' • local' : '';
    row.innerHTML = `<div style="overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">${i+1}. ${escapeHtml(name)}${isLocal}</div>
                     <div style="display:flex;gap:8px;align-items:center">
                       <button class="btn small" data-idx="${i}" aria-label="Play this">Play</button>
                     </div>`;
    fileListEl.appendChild(row);

    row.querySelector('button')?.addEventListener('click', (ev) => {
      const idx = parseInt(ev.currentTarget.getAttribute('data-idx'),10);
      loadTrack(idx);
      audio.play().catch(()=>{});
      isPlaying = true;
      updateIconPlaying();
      try { initAudioContext(); } catch(e){}
    });
  });
  updateFileListUI();
}

/* update selection highlight */
function updateFileListUI(){
  const children = Array.from(fileListEl.children || []);
  children.forEach((el, idx) => {
    el.style.background = (idx === currentIndex) ? 'linear-gradient(90deg, rgba(139,76,255,0.06), rgba(0,245,160,0.04))' : 'transparent';
  });
}

/* escape helper */
function escapeHtml(str){ return String(str).replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s])); }

/* Visualizer: animate side images using analyser */
function initAudioContext(){
  if (audioCtx) return;
  try {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 2048;
    sourceNode = audioCtx.createMediaElementSource(audio);
    sourceNode.connect(analyser);
    analyser.connect(audioCtx.destination);
    const bufferLength = analyser.frequencyBinCount;
    dataArray = new Uint8Array(bufferLength);
    requestAnimationFrame(animateLogos);
  } catch(e){
    console.warn('initAudioContext failed', e);
    requestAnimationFrame(animateLogos);
  }
}

function animateLogos(){
  if (!analyser) {
    const t = Date.now() / 1400;
    const idleScale = 1 + Math.sin(t) * 0.02;
    logoLeft.style.transform = `translateY(${ -6 + Math.sin(t)*2 }px) scale(${idleScale})`;
    logoRight.style.transform = `translateY(${ 6 + Math.cos(t)*2 }px) scale(${idleScale})`;
    requestAnimationFrame(animateLogos);
    return;
  }

  analyser.getByteFrequencyData(dataArray);
  let sum = 0;
  const maxIndex = Math.max(1, Math.floor(dataArray.length * 0.35));
  for (let i=0;i<maxIndex;i++){ sum += dataArray[i]; }
  const avgRaw = sum / maxIndex;
  const avg = Math.min(1, avgRaw / 180);

  const scale = 1 + avg * 0.42;
  const offset = Math.sin(Date.now()/120 + avg*10) * (8 * avg);
  const vertical = Math.cos(Date.now()/140) * (8 * avg);

  logoLeft.style.transform = `translate(${ -offset }px, ${ -vertical }px) scale(${ scale })`;
  logoRight.style.transform = `translate(${ offset }px, ${ vertical }px) scale(${ scale })`;

  const contrast = 1 + avg * 0.12;
  const saturate = 1 + avg * 0.08;
  const dropY = Math.round(6 + avg*12);
  const blur = Math.round(8 + avg*12);
  const dsColor = `rgba(123,47,255,${0.06 + avg*0.12})`;
  const f = `contrast(${contrast}) saturate(${saturate}) drop-shadow(0 ${dropY}px ${blur}px ${dsColor})`;
  logoImgLeft.style.filter = f;
  logoImgRight.style.filter = f;

  requestAnimationFrame(animateLogos);
}

/* particles */
(function makeParticles(){
  const container = document.getElementById('particles');
  for (let i=0;i<20;i++){
    const el = document.createElement('div');
    el.className = 'particle';
    const left = Math.random() * 100;
    const size = 2 + Math.random()*10;
    el.style.left = left + '%';
    el.style.bottom = (Math.random() * 8) + 'vh';
    el.style.width = size + 'px';
    el.style.height = size + 'px';
    el.style.opacity = (0.04 + Math.random()*0.18).toFixed(2);
    el.style.animationDuration = (6 + Math.random()*10) + 's';
    el.style.animationDelay = (Math.random()*2) + 's';
    if (Math.random() < 0.5) {
      el.style.background = 'radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(139,76,255,0.85))';
    } else {
      el.style.background = 'radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(0,245,160,0.9))';
    }
    container.appendChild(el);
  }
})();

/* typing text */
const typedSpan = document.getElementById('typedText');
function setTypedText(text) {
  typedSpan.textContent = text;
  typedSpan.setAttribute('data-text', text);
}
const MESSAGE = "Stop stalking me nigga";
let typingSpeed = 28;
let deletingSpeed = 14;
let pauseAfter = 2000;
let pauseBefore = 450;

async function typingLoop() {
  while (true) {
    let out = '';
    for (let i=0;i<MESSAGE.length;i++){
      out += MESSAGE[i];
      setTypedText(out);
      typedSpan.style.transform = `translateY(${ (Math.random()-0.5) * 0.45 }px)`;
      await sleep(typingSpeed + Math.random()*18);
    }
    setTypedText(MESSAGE);
    for (let f=0; f<4; f++){
      typedSpan.style.textShadow = `0 8px 28px rgba(139,76,255,${0.12 + Math.random()*0.18})`;
      await sleep(90 + Math.random()*120);
      typedSpan.style.textShadow = `0 6px 20px rgba(0,245,160,0.12)`;
    }
    await sleep(pauseAfter);
    for (let i=MESSAGE.length;i>=0;i--){
      const s = MESSAGE.slice(0,i);
      setTypedText(s);
      await sleep(deletingSpeed + Math.random()*12);
    }
    await sleep(pauseBefore);
  }
}
function sleep(ms){ return new Promise(res => setTimeout(res, ms)); }
typingLoop().catch(e => console.warn(e));

/* Initialize */
(function init(){
  renderFileList();
  loadTrack(0);
  // sync icon to initial state (paused)
  updateIconPaused();

  audio.addEventListener('play', () => {
    try { initAudioContext(); if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume().catch(()=>{}); } catch(e){}
  });
})();

/* cleanup on unload */
window.addEventListener('beforeunload', () => {
  for (const p of playlist){
    if (p && p.blobUrl) {
      try { URL.revokeObjectURL(p.blobUrl); } catch(e){}
    }
  }
});
</script>
</body>
</html>
